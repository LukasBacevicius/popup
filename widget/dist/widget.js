!function(){"use strict";try{if("undefined"!=typeof document){var t=document.createElement("style");t.appendChild(document.createTextNode(".shop-in-widget *,.shop-in-widget *:before,.shop-in-widget *:after{box-sizing:border-box!important}.shop-in-widget-bottom-right{bottom:20px!important;right:20px!important}.shop-in-widget-bottom-left{bottom:20px!important;left:20px!important}.shop-in-widget-top-right{top:20px!important;right:20px!important}.shop-in-widget-top-left{top:20px!important;left:20px!important}.shop-in-widget-light{--widget-bg: #ffffff;--widget-text: #333333;--widget-border: #e1e1e1;--widget-shadow: rgba(0, 0, 0, .15);--widget-primary: #007ace;--widget-primary-hover: #005a9c}.shop-in-widget-dark{--widget-bg: #2d3748;--widget-text: #ffffff;--widget-border: #4a5568;--widget-shadow: rgba(0, 0, 0, .3);--widget-primary: #4299e1;--widget-primary-hover: #3182ce}.shop-in-widget-wrapper{position:relative!important}.shop-in-widget-fab{width:60px!important;height:60px!important;border-radius:50%!important;border:none!important;cursor:pointer!important;display:flex!important;align-items:center!important;justify-content:center!important;transition:all .3s cubic-bezier(.25,.8,.25,1)!important;box-shadow:0 4px 16px var(--widget-shadow)!important;position:relative!important;outline:none!important}.shop-in-widget-fab.light,.shop-in-widget-fab.dark{background-color:var(--widget-primary)!important;color:#fff!important}.shop-in-widget-fab:hover{transform:scale(1.05)!important;background-color:var(--widget-primary-hover)!important;box-shadow:0 6px 20px var(--widget-shadow)!important}.shop-in-widget-fab:active{transform:scale(.95)!important}.shop-in-widget-fab svg{transition:transform .2s ease!important}.shop-in-widget-fab.open svg{transform:rotate(90deg)!important}.shop-in-widget-panel{position:absolute!important;bottom:70px!important;right:0!important;width:320px!important;max-height:500px!important;background:var(--widget-bg)!important;border-radius:12px!important;box-shadow:0 10px 40px var(--widget-shadow)!important;border:1px solid var(--widget-border)!important;overflow:hidden!important;animation:slideIn .3s cubic-bezier(.25,.8,.25,1)!important;transform-origin:bottom right!important}.shop-in-widget-bottom-left .shop-in-widget-panel{right:auto!important;left:0!important;transform-origin:bottom left!important}.shop-in-widget-top-right .shop-in-widget-panel{bottom:auto!important;top:70px!important;transform-origin:top right!important}.shop-in-widget-top-left .shop-in-widget-panel{bottom:auto!important;top:70px!important;right:auto!important;left:0!important;transform-origin:top left!important}@keyframes slideIn{0%{opacity:0;transform:scale(.9) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}.shop-in-widget-header{padding:16px 20px!important;border-bottom:1px solid var(--widget-border)!important;display:flex!important;justify-content:space-between!important;align-items:center!important;background:var(--widget-bg)!important}.shop-in-widget-header h3{margin:0!important;font-size:18px!important;font-weight:600!important;color:var(--widget-text)!important}.shop-in-widget-close{background:none!important;border:none!important;font-size:24px!important;cursor:pointer!important;color:var(--widget-text)!important;padding:0!important;width:24px!important;height:24px!important;display:flex!important;align-items:center!important;justify-content:center!important;border-radius:4px!important;transition:background-color .2s ease!important}.shop-in-widget-close:hover{background-color:var(--widget-border)!important}.shop-in-widget-content{padding:20px!important;max-height:400px!important;overflow-y:auto!important}.shop-in-widget-loading{display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:center!important;padding:40px 20px!important;color:var(--widget-text)!important}.shop-in-widget-spinner{width:32px!important;height:32px!important;border:2px solid var(--widget-border)!important;border-top:2px solid var(--widget-primary)!important;border-radius:50%!important;animation:spin 1s linear infinite!important;margin-bottom:12px!important}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.shop-in-widget-error{text-align:center!important;padding:20px!important;color:#e53e3e!important}.shop-in-widget-error button{margin-top:12px!important;padding:8px 16px!important;background:var(--widget-primary)!important;color:#fff!important;border:none!important;border-radius:6px!important;cursor:pointer!important;font-size:14px!important}.shop-in-widget-error button:hover{background:var(--widget-primary-hover)!important}.shop-in-widget-empty{text-align:center!important;padding:40px 20px!important;color:var(--widget-text)!important}.shop-in-widget-grid{display:grid!important;grid-template-columns:repeat(auto-fit,minmax(120px,1fr))!important;gap:16px!important}.shop-in-widget-product{border:1px solid var(--widget-border)!important;border-radius:8px!important;overflow:hidden!important;cursor:pointer!important;transition:all .2s ease!important;background:var(--widget-bg)!important}.shop-in-widget-product:hover{border-color:var(--widget-primary)!important;box-shadow:0 2px 8px var(--widget-shadow)!important;transform:translateY(-1px)!important}.shop-in-widget-product-image{position:relative!important;width:100%!important;height:120px!important;overflow:hidden!important;background:#f7f7f7!important;display:flex!important;align-items:center!important;justify-content:center!important}.shop-in-widget-product-image img{width:100%!important;height:100%!important;object-fit:cover!important}.shop-in-widget-product-placeholder{color:#999!important;display:flex!important;align-items:center!important;justify-content:center!important}.shop-in-widget-product-info{padding:12px!important}.shop-in-widget-product-title{font-size:14px!important;font-weight:500!important;margin:0 0 4px!important;color:var(--widget-text)!important;line-height:1.3!important;display:-webkit-box!important;-webkit-line-clamp:2!important;-webkit-box-orient:vertical!important;overflow:hidden!important}.shop-in-widget-product-price{font-size:14px!important;font-weight:600!important;margin:0!important;color:var(--widget-primary)!important}@media (max-width: 480px){.shop-in-widget-panel{width:calc(100vw - 40px)!important;max-width:320px!important}.shop-in-widget-bottom-right{right:10px!important;bottom:10px!important}.shop-in-widget-bottom-left{left:10px!important;bottom:10px!important}.shop-in-widget-top-right{right:10px!important;top:10px!important}.shop-in-widget-top-left{left:10px!important;top:10px!important}}.shop-in-widget,.shop-in-widget *{all:unset!important}.shop-in-widget{position:fixed!important;z-index:999999!important;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif!important;font-size:14px!important;line-height:1.4!important;color:#333!important;box-sizing:border-box!important}")),document.head.appendChild(t)}}catch(i){console.error("vite-plugin-css-injected-by-js",i)}}();
var ShopInWidget=function(){"use strict";var e,n,t,_,o,i,r,l,u,c,s,a=Object.defineProperty,h=(e,n,t)=>((e,n,t)=>n in e?a(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t)(e,"symbol"!=typeof n?n+"":n,t),d={},p=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,g=Array.isArray;function m(e,n){for(var t in n)e[t]=n[t];return e}function v(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function y(e,_,o,i,r){var l={type:e,props:_,key:o,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==r?++t:r,__i:-1,__u:0};return null==r&&null!=n.vnode&&n.vnode(l),l}function k(e){return e.children}function w(e,n){this.props=e,this.context=n}function b(e,n){if(null==n)return e.__?b(e.__,e.__i+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?b(e):null}function N(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return N(e)}}function C(e){(!e.__d&&(e.__d=!0)&&_.push(e)&&!P.__r++||o!=n.debounceRendering)&&((o=n.debounceRendering)||i)(P)}function P(){for(var e,t,o,i,l,u,c,s=1;_.length;)_.length>s&&_.sort(r),e=_.shift(),s=_.length,e.__d&&(o=void 0,l=(i=(t=e).__v).__e,u=[],c=[],t.__P&&((o=m({},i)).__v=i.__v+1,n.vnode&&n.vnode(o),A(t.__P,o,i,t.__n,t.__P.namespaceURI,32&i.__u?[l]:null,u,null==l?b(i):l,!!(32&i.__u),c),o.__v=i.__v,o.__.__k[o.__i]=o,U(u,o,c),o.__e!=l&&N(o)));P.__r=0}function x(e,n,t,_,o,i,r,l,u,c,s){var a,h,f,m,v,w,N,C=_&&_.__k||p,P=n.length;for(u=function(e,n,t,_,o){var i,r,l,u,c,s=t.length,a=s,h=0;for(e.__k=new Array(o),i=0;i<o;i++)null!=(r=n[i])&&"boolean"!=typeof r&&"function"!=typeof r?(u=i+h,(r=e.__k[i]="string"==typeof r||"number"==typeof r||"bigint"==typeof r||r.constructor==String?y(null,r,null,null,null):g(r)?y(k,{children:r},null,null,null):null==r.constructor&&r.__b>0?y(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,l=null,-1!=(c=r.__i=S(r,t,u,a))&&(a--,(l=t[c])&&(l.__u|=2)),null==l||null==l.__v?(-1==c&&(o>s?h--:o<s&&h++),"function"!=typeof r.type&&(r.__u|=4)):c!=u&&(c==u-1?h--:c==u+1?h++:(c>u?h--:h++,r.__u|=4))):e.__k[i]=null;if(a)for(i=0;i<s;i++)null!=(l=t[i])&&!(2&l.__u)&&(l.__e==_&&(_=b(l)),M(l,l));return _}(t,n,C,u,P),a=0;a<P;a++)null!=(f=t.__k[a])&&(h=-1==f.__i?d:C[f.__i]||d,f.__i=a,w=A(e,f,h,o,i,r,l,u,c,s),m=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&D(h.ref,null,f),s.push(f.ref,f.__c||m,f)),null==v&&null!=m&&(v=m),(N=!!(4&f.__u))||h.__k===f.__k?u=H(f,u,e,N):"function"==typeof f.type&&void 0!==w?u=w:m&&(u=m.nextSibling),f.__u&=-7);return t.__e=v,u}function H(e,n,t,_){var o,i;if("function"==typeof e.type){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,n=H(o[i],n,t,_));return n}e.__e!=n&&(_&&(n&&e.type&&!n.parentNode&&(n=b(e)),t.insertBefore(e.__e,n||null)),n=e.__e);do{n=n&&n.nextSibling}while(null!=n&&8==n.nodeType);return n}function S(e,n,t,_){var o,i,r,l=e.key,u=e.type,c=n[t],s=null!=c&&!(2&c.__u);if(null===c&&null==e.key||s&&l==c.key&&u==c.type)return t;if(_>(s?1:0))for(o=t-1,i=t+1;o>=0||i<n.length;)if(null!=(c=n[r=o>=0?o--:i++])&&!(2&c.__u)&&l==c.key&&u==c.type)return r;return-1}function T(e,n,t){"-"==n[0]?e.setProperty(n,null==t?"":t):e[n]=null==t?"":"number"!=typeof t||f.test(n)?t:t+"px"}function E(e,n,t,_,o){var i,r;e:if("style"==n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof _&&(e.style.cssText=_=""),_)for(n in _)t&&n in t||T(e.style,n,"");if(t)for(n in t)_&&t[n]==_[n]||T(e.style,n,t[n])}else if("o"==n[0]&&"n"==n[1])i=n!=(n=n.replace(l,"$1")),r=n.toLowerCase(),n=r in e||"onFocusOut"==n||"onFocusIn"==n?r.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+i]=t,t?_?t.u=_.u:(t.u=u,e.addEventListener(n,i?s:c,i)):e.removeEventListener(n,i?s:c,i);else{if("http://www.w3.org/2000/svg"==o)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=n&&"height"!=n&&"href"!=n&&"list"!=n&&"form"!=n&&"tabIndex"!=n&&"download"!=n&&"rowSpan"!=n&&"colSpan"!=n&&"role"!=n&&"popover"!=n&&n in e)try{e[n]=null==t?"":t;break e}catch(a){}"function"==typeof t||(null==t||!1===t&&"-"!=n[4]?e.removeAttribute(n):e.setAttribute(n,"popover"==n&&1==t?"":t))}}function L(e){return function(t){if(this.l){var _=this.l[t.type+e];if(null==t.t)t.t=u++;else if(t.t<_.u)return;return _(n.event?n.event(t):t)}}}function A(t,_,o,i,r,l,u,c,s,a){var h,p,f,y,N,C,P,H,S,T,L,A,U,D,M,$,I,j=_.type;if(null!=_.constructor)return null;128&o.__u&&(s=!!(32&o.__u),l=[c=_.__e=o.__e]),(h=n.__b)&&h(_);e:if("function"==typeof j)try{if(H=_.props,S="prototype"in j&&j.prototype.render,T=(h=j.contextType)&&i[h.__c],L=h?T?T.props.value:h.__:i,o.__c?P=(p=_.__c=o.__c).__=p.__E:(S?_.__c=p=new j(H,L):(_.__c=p=new w(H,L),p.constructor=j,p.render=O),T&&T.sub(p),p.props=H,p.state||(p.state={}),p.context=L,p.__n=i,f=p.__d=!0,p.__h=[],p._sb=[]),S&&null==p.__s&&(p.__s=p.state),S&&null!=j.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=m({},p.__s)),m(p.__s,j.getDerivedStateFromProps(H,p.__s))),y=p.props,N=p.state,p.__v=_,f)S&&null==j.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),S&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&H!==y&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(H,L),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(H,p.__s,L)||_.__v==o.__v){for(_.__v!=o.__v&&(p.props=H,p.state=p.__s,p.__d=!1),_.__e=o.__e,_.__k=o.__k,_.__k.some(function(e){e&&(e.__=_)}),A=0;A<p._sb.length;A++)p.__h.push(p._sb[A]);p._sb=[],p.__h.length&&u.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(H,p.__s,L),S&&null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(y,N,C)})}if(p.context=L,p.props=H,p.__P=t,p.__e=!1,U=n.__r,D=0,S){for(p.state=p.__s,p.__d=!1,U&&U(_),h=p.render(p.props,p.state,p.context),M=0;M<p._sb.length;M++)p.__h.push(p._sb[M]);p._sb=[]}else do{p.__d=!1,U&&U(_),h=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++D<25);p.state=p.__s,null!=p.getChildContext&&(i=m(m({},i),p.getChildContext())),S&&!f&&null!=p.getSnapshotBeforeUpdate&&(C=p.getSnapshotBeforeUpdate(y,N)),$=h,null!=h&&h.type===k&&null==h.key&&($=W(h.props.children)),c=x(t,g($)?$:[$],_,o,i,r,l,u,c,s,a),p.base=_.__e,_.__u&=-161,p.__h.length&&u.push(p),P&&(p.__E=p.__=null)}catch(R){if(_.__v=null,s||null!=l)if(R.then){for(_.__u|=s?160:128;c&&8==c.nodeType&&c.nextSibling;)c=c.nextSibling;l[l.indexOf(c)]=null,_.__e=c}else{for(I=l.length;I--;)v(l[I]);F(_)}else _.__e=o.__e,_.__k=o.__k,R.then||F(_);n.__e(R,_,o)}else null==l&&_.__v==o.__v?(_.__k=o.__k,_.__e=o.__e):c=_.__e=function(t,_,o,i,r,l,u,c,s){var a,h,p,f,m,y,k,w=o.props,N=_.props,C=_.type;if("svg"==C?r="http://www.w3.org/2000/svg":"math"==C?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),null!=l)for(a=0;a<l.length;a++)if((m=l[a])&&"setAttribute"in m==!!C&&(C?m.localName==C:3==m.nodeType)){t=m,l[a]=null;break}if(null==t){if(null==C)return document.createTextNode(N);t=document.createElementNS(r,C,N.is&&N),c&&(n.__m&&n.__m(_,l),c=!1),l=null}if(null==C)w===N||c&&t.data==N||(t.data=N);else{if(l=l&&e.call(t.childNodes),w=o.props||d,!c&&null!=l)for(w={},a=0;a<t.attributes.length;a++)w[(m=t.attributes[a]).name]=m.value;for(a in w)if(m=w[a],"children"==a);else if("dangerouslySetInnerHTML"==a)p=m;else if(!(a in N)){if("value"==a&&"defaultValue"in N||"checked"==a&&"defaultChecked"in N)continue;E(t,a,null,m,r)}for(a in N)m=N[a],"children"==a?f=m:"dangerouslySetInnerHTML"==a?h=m:"value"==a?y=m:"checked"==a?k=m:c&&"function"!=typeof m||w[a]===m||E(t,a,m,w[a],r);if(h)c||p&&(h.__html==p.__html||h.__html==t.innerHTML)||(t.innerHTML=h.__html),_.__k=[];else if(p&&(t.innerHTML=""),x("template"==_.type?t.content:t,g(f)?f:[f],_,o,i,"foreignObject"==C?"http://www.w3.org/1999/xhtml":r,l,u,l?l[0]:o.__k&&b(o,0),c,s),null!=l)for(a=l.length;a--;)v(l[a]);c||(a="value","progress"==C&&null==y?t.removeAttribute("value"):null!=y&&(y!==t[a]||"progress"==C&&!y||"option"==C&&y!=w[a])&&E(t,a,y,w[a],r),a="checked",null!=k&&k!=t[a]&&E(t,a,k,w[a],r))}return t}(o.__e,_,o,i,r,l,u,s,a);return(h=n.diffed)&&h(_),128&_.__u?void 0:c}function F(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(F)}function U(e,t,_){for(var o=0;o<_.length;o++)D(_[o],_[++o],_[++o]);n.__c&&n.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(_){n.__e(_,t.__v)}})}function W(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:g(e)?e.map(W):m({},e)}function D(e,t,_){try{if("function"==typeof e){var o="function"==typeof e.__u;o&&e.__u(),o&&null==t||(e.__u=e(t))}else e.current=t}catch(i){n.__e(i,_)}}function M(e,t,_){var o,i;if(n.unmount&&n.unmount(e),(o=e.ref)&&(o.current&&o.current!=e.__e||D(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){n.__e(r,t)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&M(o[i],t,_||"function"!=typeof e.type);_||v(e.__e),e.__c=e.__=e.__e=void 0}function O(e,n,t){return this.constructor(e,t)}function $(t,_,o){var i,r,l;_==document&&(_=document.documentElement),n.__&&n.__(t,_),i=!1?null:_.__k,r=[],l=[],A(_,t=_.__k=function(n,t,_){var o,i,r,l={};for(r in t)"key"==r?o=t[r]:"ref"==r?i=t[r]:l[r]=t[r];if(arguments.length>2&&(l.children=arguments.length>3?e.call(arguments,2):_),"function"==typeof n&&null!=n.defaultProps)for(r in n.defaultProps)void 0===l[r]&&(l[r]=n.defaultProps[r]);return y(n,l,o,i,null)}(k,null,[t]),i||d,d,_.namespaceURI,i?null:_.firstChild?e.call(_.childNodes):null,r,i?i.__e:_.firstChild,false,l),U(r,t,l)}e=p.slice,n={__e:function(e,n,t,_){for(var o,i,r;n=n.__;)if((o=n.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),r=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,_||{}),r=o.__d),r)return o.__E=o}catch(l){e=l}throw e}},t=0,w.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(m({},t),this.props)),e&&m(t,e),null!=e&&this.__v&&(n&&this._sb.push(n),C(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),C(this))},w.prototype.render=k,_=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,r=function(e,n){return e.__v.__b-n.__v.__b},P.__r=0,l=/(PointerCapture)$|Capture$/i,u=0,c=L(!1),s=L(!0);var I=0;function j(e,t,_,o,i,r){t||(t={});var l,u,c=t;if("ref"in c)for(u in c={},t)"ref"==u?l=t[u]:c[u]=t[u];var s={type:e,props:c,key:_,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--I,__i:-1,__u:0,__source:i,__self:r};if("function"==typeof e&&(l=e.defaultProps))for(u in l)void 0===c[u]&&(c[u]=l[u]);return n.vnode&&n.vnode(s),s}var R,q,B,V,z=0,Z=[],J=n,X=J.__b,G=J.__r,K=J.diffed,Q=J.__c,Y=J.unmount,ee=J.__;function ne(e,n){J.__h&&J.__h(q,e,z||n),z=0;var t=q.__H||(q.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function te(e){return z=1,function(e,n){var t=ne(R++,2);if(t.t=e,!t.__c&&(t.__=[ce(void 0,n),function(e){var n=t.__N?t.__N[0]:t.__[0],_=t.t(n,e);n!==_&&(t.__N=[_,t.__[1]],t.__c.setState({}))}],t.__c=q,!q.__f)){var _=function(e,n,_){if(!t.__c.__H)return!0;var i=t.__c.__H.__.filter(function(e){return!!e.__c});if(i.every(function(e){return!e.__N}))return!o||o.call(this,e,n,_);var r=t.__c.props!==e;return i.forEach(function(e){if(e.__N){var n=e.__[0];e.__=e.__N,e.__N=void 0,n!==e.__[0]&&(r=!0)}}),o&&o.call(this,e,n,_)||r};q.__f=!0;var o=q.shouldComponentUpdate,i=q.componentWillUpdate;q.componentWillUpdate=function(e,n,t){if(this.__e){var r=o;o=void 0,_(e,n,t),o=r}i&&i.call(this,e,n,t)},q.shouldComponentUpdate=_}return t.__N||t.__}(ce,e)}function _e(e,n){var t=ne(R++,3);!J.__s&&function(e,n){return!e||e.length!==n.length||n.some(function(n,t){return n!==e[t]})}(t.__H,n)&&(t.__=e,t.u=n,q.__H.__h.push(t))}function oe(){for(var e;e=Z.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(le),e.__H.__h.forEach(ue),e.__H.__h=[]}catch(n){e.__H.__h=[],J.__e(n,e.__v)}}J.__b=function(e){q=null,X&&X(e)},J.__=function(e,n){e&&n.__k&&n.__k.__m&&(e.__m=n.__k.__m),ee&&ee(e,n)},J.__r=function(e){G&&G(e),R=0;var n=(q=e.__c).__H;n&&(B===q?(n.__h=[],q.__h=[],n.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(n.__h.forEach(le),n.__h.forEach(ue),n.__h=[],R=0)),B=q},J.diffed=function(e){K&&K(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(1!==Z.push(n)&&V===J.requestAnimationFrame||((V=J.requestAnimationFrame)||re)(oe)),n.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),B=q=null},J.__c=function(e,n){n.some(function(e){try{e.__h.forEach(le),e.__h=e.__h.filter(function(e){return!e.__||ue(e)})}catch(t){n.some(function(e){e.__h&&(e.__h=[])}),n=[],J.__e(t,e.__v)}}),Q&&Q(e,n)},J.unmount=function(e){Y&&Y(e);var n,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(e){try{le(e)}catch(t){n=t}}),t.__H=void 0,n&&J.__e(n,t.__v))};var ie="function"==typeof requestAnimationFrame;function re(e){var n,t=function(){clearTimeout(_),ie&&cancelAnimationFrame(n),setTimeout(e)},_=setTimeout(t,35);ie&&(n=requestAnimationFrame(t))}function le(e){var n=q,t=e.__c;"function"==typeof t&&(e.__c=void 0,t()),q=n}function ue(e){var n=q;e.__c=e.__(),q=n}function ce(e,n){return"function"==typeof n?n(e):n}function se({products:e,onProductClick:n,theme:t="light"}){const _=(e,n)=>{const t=parseFloat(e);return new Intl.NumberFormat("en-US",{style:"currency",currency:n}).format(t)};return 0===e.length?j("div",{className:"shop-in-widget-empty",children:j("p",{children:"No products available"})}):j("div",{className:"shop-in-widget-grid",children:e.map(e=>j("div",{className:"shop-in-widget-product "+("dark"===t?"dark":"light"),onClick:()=>n(e),children:[j("div",{className:"shop-in-widget-product-image",children:e.images.edges[0]?j("img",{src:e.images.edges[0].node.url,alt:e.title,loading:"lazy"}):j("div",{className:"shop-in-widget-product-placeholder",children:j("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[j("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"2"}),j("circle",{cx:"8.5",cy:"8.5",r:"1.5",stroke:"currentColor",strokeWidth:"2"}),j("polyline",{points:"21,15 16,10 5,21",stroke:"currentColor",strokeWidth:"2"})]})})}),j("div",{className:"shop-in-widget-product-info",children:[j("h4",{className:"shop-in-widget-product-title",children:e.title}),j("p",{className:"shop-in-widget-product-price",children:_(e.priceRange.minVariantPrice.amount,e.priceRange.minVariantPrice.currencyCode)})]})]},e.id))})}function ae({isOpen:e,onClick:n,theme:t="light"}){return j("button",{className:`shop-in-widget-fab ${"dark"===t?"dark":"light"} ${e?"open":""}`,onClick:n,"aria-label":e?"Close widget":"Open widget",children:j("svg",e?{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[j("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),j("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[j("path",{d:"M3 3H21V21H3V3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),j("path",{d:"M9 9H15V15H9V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}function he({config:e,onToggle:n,isOpen:t}){const[_,o]=te(t||!1),[i,r]=te([]),[l,u]=te(!1),[c,s]=te(null);_e(()=>{void 0!==t&&o(t)},[t]),_e(()=>{_&&0===i.length&&a()},[_]);const a=async()=>{u(!0),s(null);try{const n="\n        query getProducts($ids: [ID!]!) {\n          nodes(ids: $ids) {\n            ... on Product {\n              id\n              title\n              handle\n              images(first: 1) {\n                edges {\n                  node {\n                    url\n                  }\n                }\n              }\n              priceRange {\n                minVariantPrice {\n                  amount\n                  currencyCode\n                }\n              }\n            }\n          }\n        }\n      ",t=e.productIds.map(e=>`gid://shopify/Product/${e}`),_=await fetch(`https://${e.shopDomain}/api/2023-10/graphql.json`,{method:"POST",headers:{"Content-Type":"application/json","X-Shopify-Storefront-Access-Token":e.token},body:JSON.stringify({query:n,variables:{ids:t}})});if(!_.ok)throw new Error("Failed to fetch products");const o=await _.json();if(o.errors)throw new Error(o.errors[0].message);r(o.data.nodes.filter(Boolean))}catch(n){s(n instanceof Error?n.message:"Failed to load products")}finally{u(!1)}},h=()=>{const e=!_;o(e),n(e)};return j("div",{className:"shop-in-widget-wrapper",children:[j(ae,{isOpen:_,onClick:h,theme:e.theme}),_&&j("div",{className:"shop-in-widget-panel",children:[j("div",{className:"shop-in-widget-header",children:[j("h3",{children:"Featured Products"}),j("button",{className:"shop-in-widget-close",onClick:h,"aria-label":"Close",children:"×"})]}),j("div",{className:"shop-in-widget-content",children:l?j("div",{className:"shop-in-widget-loading",children:[j("div",{className:"shop-in-widget-spinner"}),j("p",{children:"Loading products..."})]}):c?j("div",{className:"shop-in-widget-error",children:[j("p",{children:["Error: ",c]}),j("button",{onClick:a,children:"Retry"})]}):j(se,{products:i,onProductClick:n=>{window.open(`https://${e.shopDomain}/products/${n.handle}`,"_blank")},theme:e.theme})})]})]})}class de{constructor(e){h(this,"config"),h(this,"container",null),h(this,"isOpen",!1),h(this,"handleToggle",e=>{this.isOpen=e}),this.config={position:"bottom-right",theme:"light",...e}}init(){this.createContainer(),this.container&&$(j(he,{config:this.config,onToggle:this.handleToggle}),this.container)}createContainer(){const e=this.config.containerId||"shop-in-widget-container";let n=document.getElementById(e);n||(n=document.createElement("div"),n.id=e,n.className=`shop-in-widget shop-in-widget-${this.config.position} shop-in-widget-${this.config.theme}`,document.body.appendChild(n)),this.container=n}open(){this.isOpen=!0,this.container&&$(j(he,{config:this.config,onToggle:this.handleToggle,isOpen:!0}),this.container)}close(){this.isOpen=!1,this.container&&$(j(he,{config:this.config,onToggle:this.handleToggle,isOpen:!1}),this.container)}destroy(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}function pe(e){const n=new de(e);return n.init(),n}function fe(){var e;const n=document.querySelector("script[data-shop-domain]");if(n){const t=n.getAttribute("data-shop-domain"),_=n.getAttribute("data-token"),o=(null==(e=n.getAttribute("data-product-ids"))?void 0:e.split(","))||[],i=n.getAttribute("data-position")||"bottom-right",r=n.getAttribute("data-theme")||"light";t&&_&&o.length>0&&pe({shopDomain:t,token:_,productIds:o,position:i,theme:r})}}return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",fe):fe(),window.Popup=pe,pe}();
